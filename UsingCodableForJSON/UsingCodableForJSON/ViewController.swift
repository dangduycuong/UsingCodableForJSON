//
//  ViewController.swift
//  UsingCodableForJSON
//
//  Created by Đặng Duy Cường on 6/2/20.
//  Copyright © 2020 Ngô Bảo Châu. All rights reserved.
//

import UIKit

class ViewController: UIViewController {
    
    var cable = """
    {
            "status": "SUCCESS",
            "message": "success",
            "data": {
                "totalRecords": 1,
                "sortOrder": 2,
                "sortField": "",
                "listData": [
                    {
                        "laneId": 215277,
                        "laneCode": "HBH0108-HBH106-HBH065-PS-015_00",
                        "cableId": 5592,
                        "cableCode": "HBH108-HBH106-PS-058-HBH108-HBH106-PS-097_00",
                        "sourceId": 3000747,
                        "sourceType": "Pillar",
                        "sourceCode": "HBH108-HBH106-PS-058",
                        "deptId": 1455,
                        "destType": "Pillar",
                        "destCode": "HBH108-HBH106-PS-097",
                        "cableTypeId": 6,
                        "cableTypeCode": "6",
                        "length": 2107.0,
                        "geometry": {
                            "type": "LineString",
                            "coordinates": [
                                [
                                    105.03177511742592,
                                    21.0032610128508
                                ],
                                [
                                    105.03164637139321,
                                    21.002790259521003
                                ],
                                [
                                    105.03136742165566,
                                    21.002369585076323
                                ],
                                [
                                    105.03127086213112,
                                    21.00190884503827
                                ],
                                [
                                    105.031249404459,
                                    21.001408039035837
                                ],
                                [
                                    105.03117430260659,
                                    21.00094729602936
                                ],
                                [
                                    105.0313030486393,
                                    21.000446486800456
                                ],
                                [
                                    105.03138887932778,
                                    21.000005773288983
                                ],
                                [
                                    105.03089535286904,
                                    20.99998574082577
                                ],
                                [
                                    105.03046619942666,
                                    20.99974535105694
                                ],
                                [
                                    105.02999413064003,
                                    20.99974535105697
                                ],
                                [
                                    105.02954351952553,
                                    20.999514977165216
                                ],
                                [
                                    105.02921092560769,
                                    20.99918444009079
                                ],
                                [
                                    105.02882468750954,
                                    20.998883951206174
                                ],
                                [
                                    105.02830970337868,
                                    20.998683624947038
                                ],
                                [
                                    105.02791273644448,
                                    20.998433216745084
                                ],
                                [
                                    105.02740848114968,
                                    20.99837311871407
                                ],
                                [
                                    105.0268720393467,
                                    20.998313020658898
                                ],
                                [
                                    105.0265287165928,
                                    20.997952431819733
                                ],
                                [
                                    105.02609956315041,
                                    20.997832235346817
                                ],
                                [
                                    105.02567040970803,
                                    20.997631907676276
                                ],
                                [
                                    105.02524125626564,
                                    20.997371481302658
                                ],
                                [
                                    105.02473700097084,
                                    20.997141103747285
                                ],
                                [
                                    105.02426493218422,
                                    20.996930758712313
                                ],
                                [
                                    105.0239001517582,
                                    20.996540117146775
                                ],
                                [
                                    105.0237392192173,
                                    20.996049309628287
                                ],
                                [
                                    105.02358901551247,
                                    20.995538467436155
                                ],
                                [
                                    105.02351391366005,
                                    20.995087722873865
                                ],
                                [
                                    105.02325642159462,
                                    20.994687059898332
                                ],
                                [
                                    105.02285409024239,
                                    20.99439657856892
                                ],
                                [
                                    105.02236056378365,
                                    20.994296412462138
                                ],
                                [
                                    105.02194213917733,
                                    20.993985897104096
                                ],
                                [
                                    105.02166318943978,
                                    20.993565197846866
                                ],
                                [
                                    105.02139496853829,
                                    20.993094413939318
                                ],
                                [
                                    105.02094435742379,
                                    20.992793912796667
                                ],
                                [
                                    105.02041864445687,
                                    20.992738820854946
                                ],
                                [
                                    105.01985001614571,
                                    20.9926086034573
                                ],
                                [
                                    105.01930284550667,
                                    20.99246836920972
                                ],
                                [
                                    105.01879859021187,
                                    20.99232813483044
                                ],
                                [
                                    105.01834797909737,
                                    20.992127799774448
                                ]
                            ]
                        }
                    }
                ]
            }
        }
    """.data(using: .utf8)!

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view.
        var data: Json4Swift_Base?
        do {
            data = try JSONDecoder().decode(Json4Swift_Base.self, from: cable)
        } catch {
            print(error)
        }
        guard let listData = data?.data?.listData else {
            return
        }
        if listData.count > 0 {
            guard let coordinates = listData[0].geometry?.coordinates else {
                return
            }
            for coordinate in coordinates {
                print("latitude: ", coordinate[1], "longitude: ", coordinate[0])
            }
        }
    }


}

